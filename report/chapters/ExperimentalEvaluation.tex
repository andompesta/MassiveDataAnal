\subsection*{Experimental setup}
In order to perform the experimental evaluation we used a tool to automatically
detect sentiment shift in tweets coming from year 2009 and regarding several
topics. We also downloaded news from the \emph{New York Times} and \emph{ABC
Australia} on the same topic and spanning on the same period of the tweets.

It's important to remember that tweet have different language structure that need to be normalized, so for cleaning purpose, the following operations were performed on the tweet text before starting the computation of all the different methodologies:
\begin{itemize}
	\item URLs removal from tweets using a regular expression
	\item conversion from Unicode to ASCII
\end{itemize}

In addition, while parsing the news, we considered the possibility that the
opinion expressed by tweets might be both delayed or in advance with respect to
news (e.g. if a movie becomes popular it is probable that news spread very fast
on twitter, but slower on newspaper, whereas other topics are discussed on
twitter only after news about them came out for several days). Thus, we
considered a enlarged time window for news which starts 5 days before the
beginning of the contradiction and last up to 5 days after the end of it.

After that, we manually labelled each contradiction point with the event which
caused it. 

The topics and contradiction points used for the experiments 
are showed in table \ref{tab:setup}. For each contradiction point we list its
symbolical name, the time interval in which it occurred, a description of the event
which we extracted by reading the tweet and a short label which synthesize it,
the number of news present in the contradiction interval $\pm 5$ days,
the correlation between news (all-to-all) and the correlation between news and tweets in the window.

To compute the \textbf{IntraNews} correlation: an algorithm calculate the NVS between all the possible couple created
using the news inside the time windows, then the IntraNews correlation is simple the average between the similarity value.
Likewise, the \textbf{News-Tweets} correlation is the NVS computed between tweet belonging to the contradiction points and 
news of the same time windows. The NVS is calculated between the contradiction tweet representation and the representation of all the news belonging to the same time windows. 

In detail the IntraNews correlation is a indicator of how much the news inside the time windows are similar one to the other,
instead the News-Tweets correlation indicate how much the news inside the time windows are correlate with the tweet.
Topic with high IntraNews correlation are easy to summarize since every news contains quite the same information,
on the other hand topic with high News-Tweets correlation are topic with low noise.
Both IntraNews and News-Tweets  correlations are calculated using N-gram tools.

\begin{table*}[ht]
	\centering
	\begin{tabularx}{\textwidth}{XX}
	
	\hline
\textbf{Contr. point:} Cern1 & \textbf{Contr. window:} 2009-10-29 - 2009-11-08\\
\multicolumn{2}{>{\setlength{\hsize}{2\hsize}\addtolength{\hsize}{2\tabcolsep}}X} {
	\textbf{Description:} On November 3rd a bird drops a
piece of bread which cause LHC overheating.
} \\
\textbf{Label:} bird accident & \textbf{Number of news in window $\pm 5$ days:} 3 \\
\textbf{IntraNews correlation:} 0.44437 & \textbf{News-Tweets correlation:} 0.3572 \\

	\hline
\textbf{Contr. point:} Cern2 & \textbf{Contr. window:} 2009-11-24 - 2009-12-04\\
\multicolumn{2}{>{\setlength{\hsize}{2\hsize}\addtolength{\hsize}{2\tabcolsep}}X} {
	\textbf{Description:} On November 30th LHC accelerates protons to an
energy of 1.18 TeV, becoming the world most powerful energy particle accelerator
} \\
\textbf{Label:} power on and record & \textbf{Number of news in window $\pm 5$ days:} 6 \\
\textbf{IntraNews correlation:} 0.25468 & \textbf{News-Tweets correlation:} 0.44832 \\

	\hline
\textbf{Contr. point:} FortHood & \textbf{Contr. window:} 2009-11-02 - 2009-11-06\\
\multicolumn{2}{>{\setlength{\hsize}{2\hsize}\addtolength{\hsize}{2\tabcolsep}}X} {
	\textbf{Description:} On November 5th a US marine kills 13 people
} \\
\textbf{Label:} shooting & \textbf{Number of news in window $\pm 5$ days:} 70 \\
\textbf{IntraNews correlation:} 0.26553 & \textbf{News-Tweets correlation:} 0.3582 \\

\hline
\textbf{Contr. point:} Hangover & \textbf{Contr. window:} 2009-06-21 - 2009-06-27\\
\multicolumn{2}{>{\setlength{\hsize}{2\hsize}\addtolength{\hsize}{2\tabcolsep}}X} {
	\textbf{Description:} People are entusiastic about the movie (released on June 5th)
} \\
\textbf{Label:} movie released & \textbf{Number of news in window $\pm 5$ days:} 5 \\
\textbf{IntraNews correlation:} 0.19866 & \textbf{News-Tweets correlation:} 0.37797 \\

\hline
\textbf{Contr. point:} Lcross & \textbf{Contr. window:} 2009-10-31 - 2009-11-08\\
\multicolumn{2}{>{\setlength{\hsize}{2\hsize}\addtolength{\hsize}{2\tabcolsep}}X} {
	\textbf{Description:} NASA publishes preliminary results on the Lcross missions.
	Other results are announced to be released in the next weeks
} \\
\textbf{Label:} preliminary findings & \textbf{Number of news in window $\pm 5$ days:} 0 \\
\textbf{IntraNews correlation:} 0 & \textbf{News-Tweets correlation:} 0 \\

\hline
\textbf{Contr. point:} Jackson1 & \textbf{Contr. window:} 2009-06-24 - 2009-06-27 \\
\multicolumn{2}{>{\setlength{\hsize}{2\hsize}\addtolength{\hsize}{2\tabcolsep}}X} {
\textbf{Description:} The singer dies on June 25th.}\\
\multicolumn{2}{>{\setlength{\hsize}{2\hsize}\addtolength{\hsize}{2\tabcolsep}}X} {
\textbf{Note:} This contradiction window was manually adjusted, since the automatically computed one is not centered on the main event.} \\
\textbf{Label:} Jackson's death & \textbf{Number of news in window $\pm 5$ days:} 143 \\
\textbf{IntraNews correlation:} 0.20704 & \textbf{News-Tweets correlation:} 0.26008 \\

\hline
\textbf{Contr. point:} Jackson2 & \textbf{Contr. window:} 2009-08-23 - 2009-08-29 \\
\multicolumn{2}{>{\setlength{\hsize}{2\hsize}\addtolength{\hsize}{2\tabcolsep}}X} {
	\textbf{Description:} On august 28th another popular
musician, Adam Goldstein, dies. The day after, August 29th is Jackson's
birthday
}\\
\textbf{Label:} Jackson birthday, Goldstein's death & \textbf{Number of news in window $\pm 5$ days:} 48 \\
\textbf{IntraNews correlation:} 0.23583 & \textbf{News-Tweets correlation:} 0.37050 \\

\hline
\textbf{Contr. point:} SwineFlu & \textbf{Contr. window:} 2009-06-19 - 2009-06-23 \\
\multicolumn{2}{>{\setlength{\hsize}{2\hsize}\addtolength{\hsize}{2\tabcolsep}}X} {
	\textbf{Description:} Swine flu is spreading around the world.
}\\
\textbf{Label:} pandemic & \textbf{Number of news in window $\pm 5$ days:} 31 \\
\textbf{IntraNews correlation:} 0.21648 & \textbf{News-Tweets correlation:} 0.20320 \\

\hline
	\end{tabularx}
	\caption{Contradiction points used for experimental evaluation}
	\label{tab:setup}
\end{table*}

Some interesting considerations can be drawn looking at the contradiction points.
First of all, you may notice, that, although our tool detected a \emph{sentiment
shift} in the \emph{Lcross} topic, no news can be found in the selected time period.
Similarly, the amount of news regarding other contradiction points is sometimes
very small; this is particularly true for scientific topics (e.g. \emph{Cern1},
\emph{Cern2}).
This fact will be further discussed at the end of this paper. Since there are no
news in the \emph{Lcross} contradiction point, we will omit it from following
experiments.

\subsection*{Experiments}
\subsubsection*{SpaceSaving evaluation}
Among all the possible SpaceSaving configuration, we chose to split news at
sentence level and to group them 2 by 2, since this seemed to be the best
configuration from some preliminary tests.

The results obtained by running it are showed in table \ref{tab:resultsSS}. For
each contradiction point the three best chunks are showed with their score, as well as the most
common words in the tweets (according to SpaceSaving) and their value.

As you may notice, some sentences are present more than once. This can be
justified either by repetition of the same sentence in the same news or by
articles citing previous ones.

\subsubsection*{Tf/idf evaluation}
In the table \ref{tab:resultsTfIdf} is possible to see the results of TF/IDF that is used as baseline and is possible compare other methods.

\subsubsection*{LSI evaluation}
LSI as for TF-IDF present a list of word for output that are reported on table \ref{tab:resultsLSI}. It's to mark down that the output, for FortHood topic, is cut due to paper readability motivations.



\subsubsection*{Ngram Graph evaluation}
In table \ref{tab:resultsNGG} are reported the obtained results with the correlation score of the best news. It's the maximum correlation value between a news and the contradiction tweet.
It's important to point out that, for presentation reasons, the summary reported is smaller respect the one created by the NGG methodologies and all the experiment reported where conduced with the default setting suggested by George Giannakopoulos of rank=3 and neighbourhood distance = 3

\include{chapters/results/SS}

\include{chapters/results/TF-Idf}

\include{chapters/results/LSI}

\include{chapters/results/NGG}


\subsubsection*{NGG performance}
All the experiment about Ngram graph where conduced on a 2,4 GHz Intel Core 2 Duo with 4 GB 1067 MHz DDR3 RAM memory.
 All the code was compiled with intellij IDEA on Java 1.8 language. 
The reported test where conduced on Cern topic data set, since is the one that have multiple contradiction points and allowed us to test the methodology changing the following parameter:
\begin{itemize}
	\item rank of the graph
	\item neighbourhood distance[ND]
\end{itemize}


In figure \ref{fig:et-fixed-10days-r-rank} is reported the computational time respect the neighbourhood distance for different rank values. 
It is easy to notice how for all the rank there is an exponential behaviour respect to the neighbourhood distance. 
Enlarging ND cause an exponential increasing of the edges number that a graph contains, so the computation time became exponentially longer.

\begin{figure}[htbp]
	\centering
			{\includegraphics[width=8.5cm,height=7cm]{image/win_2_ranks.pdf}}	
		\caption[et-fixed-10days-r-rank]{Execution time for different rank value}
	\label{fig:et-fixed-10days-r-rank}
\end{figure} 

In figure \ref{fig:et-fixed-10days-r-nd} is possible to see how the computation time change respect to the rank value at different neighbourhood distance. 
It's possible to see how if we increasing the rank, the computational time is quite the same. Seems that rank can mitigate the neighbourhood distance effect. 

The computation time for of the 2-gram diverge, instead 3-gram became more similar at the 4-gram behaviour. Probably because computing the similarity between 2-gram graph is an operation quite expensive since they have many edges to check.
Indeed neighbourhood distance is a less impactive parameter, 3 o 4 have quite the same computational time.

\begin{figure}[htbp]
	\centering
			{\includegraphics[width=8.5cm,height=7cm]{image/win_2_ndists.pdf}}	
	\label{fig:et-fixed-10days-r-nd}
\end{figure} 

For what concern the summary point of view the neighbourhood distance factor has little influence on the summary since changing his value just produce a swapping on the order of the sentence in the summary.
In particular for a rank = 3 we obtain the following summary:
\begin{enumerate}
	\item CERN said the latest incident was minor and did not affect attempts to restart the accelerator later this month following repairs.
	\item 'The bird escaped unharmed but lost its bread,'CERN said in a statement.
	\item Bits of a French loaf dropped on an external electrical power supply caused a short circuit last week, triggering failsafe devices that shut down part of the cooling system of the giant experiment to probe the secrets of the universe.
	\item The bird was believed to be an owl.
	\item The European Organisation for Nuclear Research (CERN) says the system was restored several hours after the incident last week while the multi-billion-dollar Large Hadron Collider was barely affected.
	\item The 27 kilometre-long particle collider, which runs in a circular tunnel under the French-Swiss border near Geneva, has been plagued by problems since it was briefly started in September 2008.
\end{enumerate}

instead for a rank = 6 we obtain the summary
\begin{enumerate}
	\item CERN said the latest incident was minor and did not affect attempts to restart the accelerator later this month following repairs.
	\item Bits of a French loaf dropped on an external electrical power supply caused a short circuit last week, triggering failsafe devices that shut down part of the cooling system of the giant experiment to probe the secrets of the universe.
	\item The European Organisation for Nuclear Research (CERN) says the system was restored several hours after the incident last week while the multi-billion-dollar Large Hadron Collider was barely affected.
	\item 'The bird escaped unharmed but lost its bread,'CERN said in a statement. 
	\item The bird was believed to be an owl.
	\item The 27 kilometre-long particle collider, which runs in a circular tunnel under the French-Swiss border near Geneva, has been plagued by problems since it was briefly started in September 2008.
\end{enumerate}

This means that the rank has just a little effect of the order of the sentence, but not on the news-tweet correlation.
Knowing that neighbourhood distance strongly affect the computational time and slightly change the summary; it is reasonable to use a ND between 3 and 4 as suggested by the N-gram graph creator


%Figure \ref{fig:et-fixed-r3-winds} report the variation of computation time for fixed rank value(3). The shape of the computation time in this case is always the same: exponential respect the ND. 
%Notice that the max computation time always increase with the increasing of the windows size, since the algorithm have to compute the similarity between more news. In this way we can derive that the number of news, inside the time windows, affect the computation time in a almost linear way.


